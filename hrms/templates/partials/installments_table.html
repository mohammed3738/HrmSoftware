<table class="table table-bordered text-center align-middle">
  <thead class="table-light">
    <tr>
      <th>Month</th>
      <th>Amount</th>
      <th>Status</th>
      <th>Remarks</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for inst in installments %}
    <tr>
      <td>{{ inst.month|date:"M Y" }}</td>
      <td>₹{{ inst.amount|floatformat:2 }}</td>
      <td>
        {% if inst.is_paid %}
          <span class="badge bg-success">Paid</span>
        {% elif inst.is_skipped %}
          <span class="badge bg-secondary">Skipped</span>
        {% else %}
          <span class="badge bg-warning text-dark">Pending</span>
        {% endif %}
      </td>
      <td>{{ inst.remarks|default:"—" }}</td>
      <td>
        {% if inst.is_paid %}
          <button class="btn btn-sm btn-outline-danger" onclick="undoPaid({{ inst.id }})">Undo</button>
        {% elif inst.is_skipped %}
          <button class="btn btn-sm btn-outline-warning" onclick="undoSkip({{ inst.id }})">Undo Skip</button>
        {% else %}
          <button class="btn btn-sm btn-outline-success" onclick="markPaid({{ inst.id }})">Mark Paid</button>
          <button class="btn btn-sm btn-outline-secondary" onclick="skipInstallment({{ inst.id }})">Skip</button>
        {% endif %}
      </td>
    </tr>
    {% empty %}
    <tr><td colspan="5" class="text-muted">No payments recorded yet.</td></tr>
    {% endfor %}
  </tbody>
</table>
